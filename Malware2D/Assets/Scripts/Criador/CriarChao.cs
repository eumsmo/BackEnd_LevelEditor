using UnityEngine;
using UnityEngine.UI;

public class CriarChao : MonoBehaviour {
    [Header("UI")]
    public InputField larguraInput;
    public InputField alturaInput;
    public InputField posicaoXInput;
    public InputField posicaoYInput;


    public int largura => larguraInput.text != "" ? int.Parse(larguraInput.text) : 1;
    public int altura => alturaInput.text != "" ? int.Parse(alturaInput.text) : 1;
    public int posicaoX => posicaoXInput.text != "" ? int.Parse(posicaoXInput.text) : 0;
    public int posicaoY => posicaoYInput.text != "" ? int.Parse(posicaoYInput.text) : 0;


    [Header("Prefabs")]
    public GameObject chaoPrefab;


    [Header("InGame")]
    
    public GameObject chaoInGame;

    public void CriarChaoInGame() {
        if (chaoInGame != null) {
            Destroy(chaoInGame);
        }

        int largura = int.Parse(larguraInput.text);
        int altura = int.Parse(alturaInput.text);
        int posX = int.Parse(posicaoXInput.text);
        int posY = int.Parse(posicaoYInput.text);

        chaoInGame = MapManager.instance.CreateChaoAt(posX, posY, largura, altura);

        EditorController.instance.AjustarTamanhoDoMundo();
    }

    public void AtualizarChaoInGame() => CriarChaoInGame();

    public void Deletar() {
        if (chaoInGame != null) {
            Destroy(chaoInGame);
            chaoInGame = null;
        }

        Destroy(gameObject);
    }
}
